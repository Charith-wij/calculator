<!-- <div class="chart-container">
    <ngx-charts-bar-vertical-2d *ngIf="data && data.length > 0"
      [view]="[width, 400]"
      [scheme]="colorScheme"
      [results]="data"
      [gradient]="gradient"
      [xAxis]="showXAxis"
      [yAxis]="showYAxis"
      [legend]="showLegend"
      [showXAxisLabel]="showXAxisLabel"
      [showYAxisLabel]="showYAxisLabel"
      [xAxisLabel]="xAxisLabel"
      [yAxisLabel]="yAxisLabel"
      [legendTitle]="legendTitle"
      [roundDomains]="true"
      [tooltipDisabled]="false"
      [rotateXAxisTicks]="true">
    </ngx-charts-bar-vertical-2d>
  </div>

  <div class="chart-container">
    <ngx-charts-bar-vertical-2d *ngIf="data2 && data2.length > 0"
      [view]="[width, 400]"
      [scheme]="colorScheme2"
      [results]="data2"
      [gradient]="gradient"
      [xAxis]="showXAxis"
      [yAxis]="showYAxis"
      [legend]="showLegend"
      [showXAxisLabel]="showXAxisLabel"
      [showYAxisLabel]="showYAxisLabel"
      [xAxisLabel]="xAxisLabel"
      [yAxisLabel]="yAxisLabel2"
      [legendTitle]="legendTitle2"
      [roundDomains]="true"
      [tooltipDisabled]="false"
      [rotateXAxisTicks]="true">
    </ngx-charts-bar-vertical-2d>
  </div> -->

  <div class="chart-container">
    <div class="chart-wrapper" [style.position]="'relative'">
      <ngx-charts-bar-vertical-2d
        *ngIf="data && data.length > 0"
        [view]="[width, 400]"
        [scheme]="colorScheme"
        [results]="data"
        [gradient]="gradient"
        [xAxis]="showXAxis"
        [yAxis]="showYAxis"
        [legend]="showLegend"
        [showXAxisLabel]="showXAxisLabel"
        [showYAxisLabel]="showYAxisLabel"
        [xAxisLabel]="xAxisLabel"
        [yAxisLabel]="yAxisLabel"
        [legendTitle]="legendTitle"
        [roundDomains]="true"
        [tooltipDisabled]="false"
        [rotateXAxisTicks]="true"
        (select)="onSelect($event)"
        (window:resize)="onResize()"
      >
      </ngx-charts-bar-vertical-2d>

      <ng-template #tooltipTemplate let-model="model">
        {{model.value.toFixed(2)}}%
      </ng-template>

     <!-- Infinite ROI Labels -->
     <div class="infinite-labels">
        <ng-container *ngFor="let point of data; let i = index">
          <div *ngIf="point.hasInfiniteROI" 
               class="infinite-marker"
               [style.left]="getXPosition(i) + '%'">
            <div class="infinite-badge">
              âˆž ROI
            </div>
            <div class="infinite-line"></div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>

  <div class="chart-container">
    <div class="chart-wrapper" [style.position]="'relative'">
        <ngx-charts-bar-vertical-2d *ngIf="data2 && data2.length > 0"
          [view]="[width, 400]"
          [scheme]="colorScheme2"
          [results]="data2"
          [gradient]="gradient"
          [xAxis]="showXAxis"
          [yAxis]="showYAxis"
          [legend]="showLegend"
          [showXAxisLabel]="showXAxisLabel"
          [showYAxisLabel]="showYAxisLabel"
          [xAxisLabel]="xAxisLabel"
          [yAxisLabel]="yAxisLabel2"
          [legendTitle]="legendTitle2"
          [roundDomains]="true"
          [tooltipDisabled]="false"
          (window:resize)="onResize()"
          (select)="onSelect($event)"
          [rotateXAxisTicks]="true">
        </ngx-charts-bar-vertical-2d>
    </div>
  </div>